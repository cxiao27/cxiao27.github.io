<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ghost Drivetrain - Charles Xiao</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        .block-title {
            font-size: 1.2em;
            margin-bottom: 10px;
            text-align: center;
            color: #ccc;
        }

        /* Header */
        .header {
            position: relative;
            padding: 30px 20px 0 20px;
            text-align: center;
        }

        h1 {
            font-size: 3em;
            margin: 0;
        }

        hr {
            border: 1px solid white;
            width: 80%;
            margin: 20px auto 10px auto;
            opacity: 0.5;
        }

        /* Project Title */
        .project-title {
            text-align: left;
            font-size: 2.2em;
            margin: 20px auto 20px auto;
            width: 80%;
            max-width: 1200px;
        }

        /* Project Summary + Section Titles */
        .project-summary {
            text-align: center;
            max-width: 1100px;
            margin: 0 auto 40px auto;
            font-size: 1.1em;
            color: #ddd;
        }

        .project-summary h2 {
            font-size: 1.6em;
            margin-bottom: 15px;
            color: white;
        }

        .project-summary ul {
            list-style-type: disc;
            text-align: left;
            margin: 0 auto;
            padding-left: 1.5em;
            max-width: 1000px;
        }

        .project-summary li {
            margin-bottom: 10px;
            line-height: 1.6em;
        }

        /* Home Icon */
        .home-button {
            position: absolute;
            top: 30px;
            right: 40px;
        }

        .home-button img {
            width: 35px;
            height: 35px;
            filter: invert(1);
            transition: transform 0.2s ease;
        }

        .home-button img:hover {
            transform: scale(1.1);
        }

        /* Project Blocks */
        .project-block {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 40px;
            padding: 40px 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .project-block img {
            width: 45%;
            max-width: 550px;
            border-radius: 10px;
        }

        .project-text {
            width: 60%;
            font-size: 1.1em;
            line-height: 1.5em;
            text-align: left;
        }

        /* Aligned Image Row */
        .image-row {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px auto 40px auto;
            max-width: 1200px;
            flex-wrap: wrap;
        }

        .image-row img {
            height: 300px;
            width: auto;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Alternate background option */
        .alt-background {
            background-color: #1a1a1a;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .project-block {
                flex-direction: column;
                text-align: center;
            }

            .project-block img {
                width: 80%;
            }

            .project-text {
                width: 90%;
                text-align: center;
            }

            .project-title {
                text-align: center;
            }

            .image-row {
                flex-direction: column;
                align-items: center;
            }

            .image-row img {
                width: 80%;
                height: auto;
                object-fit: contain;
            }
        }

        /* Stack only the images in the drivetrain section */
        .stacked-images .image-column {
            display: flex;
            flex-direction: column;
            gap: 15px; /* space between images */
        }
        
        .stacked-images .image-column img {
            width: 100%; /* overrides global width */
            max-width: 550px; /* optional limit */
            border-radius: 10px;
            display: block;
        }

    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <a href="index.html" class="home-button">
            <img src="home-icon.png" alt="Home">
        </a>
       <h1>
          <a href="index.html" style="text-decoration: none; color: inherit; display: inline-block;">
            Charles Xiao
          </a>
        </h1>

        <hr>
    </div>

    <!-- Project Title -->
    <div class="project-title">
        Ghost Electric Motorcycles: Two Stage Drivetrain
    </div>

    <!-- Aligned Image Row -->
    <div class="image-row">
        <img src="full_bike2.png" alt="Full Bike">
        <img src="drivetrain_1.png" alt="Drivetrain_1">
        <img src="drivetrain_2.png" alt="Drivetrain_2">
    </div>

    <!-- Project Summary -->
    <div class="project-summary">
        <h2>Project Summary</h2>
        <ul>
            <li>The goal of this project was to design a drivetrain to convert a 2005 Kawasaki Ninja ZX-6R into an electric motorcycle. Our team planned to race our bike in the AHRMA Formula Lightning competition,
                but that event was cancelled. However, we still plan on building a bike designed for racing.</li>
            <li>Since we wanted optimal performance on the track, I first wrote a Python script that modeled the different forces acting on the bike. Using differential equations, I was able to model how the bike's position changed over time</li>
            <li>The biggest challenge was working with very limited space; I tried several different configurations that ensured everything fit on the frame without interfering with the suspension or battery. The configuration I finally settled on bringing the motor as low as possible and left ample room for the battery and BMS</li>
            <li>FEA and hand calcs were used to validate our design, ensuring that the components were strong enough to handle the torque and chain tension. The FEA simulation helped me identify low and high stress areas. I was able to adjust the geometry accordingly, adding material where it was needed and removing it where it wasn't.</li>
        </ul>
    </div>

    <!-- Detailed Overview Title -->
    <hr>
    <div class="project-summary">
        <h2>Detailed Overview</h2>
    </div>

    <!-- Project Blocks -->
    <div class="project-block">
        <img src="frame_1.png" alt="ZX-6R Frame">
        <div class="project-text">
            <h3 class="block-title">Objective</h3>
            <p>
                As previously stated, our team wanted to build a high-performance superbike for AHRMA Formula Lightning. Since this is our team's first bike, our main goal was to build a functional bike capable of reaching a top speed over 100 mph. 
                To the left is the frame we're building off of: a 2005 Kawasaki Ninja ZX-6R
            </p>
        </div>
    </div>

   <div class="project-block stacked-images alt-background">
        <div class="image-column">
            <img src="velo_graph.png" alt="Velocity vs Time">
            <img src="accel_graph.png" alt="Acceleration vs Time">
        </div>
        <div class="project-text">
            <h3 class="block-title">Modeling Drivetrain Dynamics for Gear Ratio Selection</h3>
            <p>
                I built a Python script that models the different forces acting on the bike during movement. The forces considered were: drag, rolling resistance, wheel force, and friction (leading to efficiency losses).
                Using this model, I created a differential equation that could be solved to obtain the position vs time graph. Taking the first and second derivatives would yield the velocity and acceleration graph, respectively.
            </p>
            <p>
                 By simulating different gear ratios, I was able to determine the ideal output torque. Taking into account our tire's estimated coefficient of friction and ideal slip ratio (tires operate best at a certain slip ratio, typically around 10%-20%), 
                I was able to determine the ideal torque to be around 575 Nm. This allows us to achieve strong acceleration, prevent excessive slippage, and achieve our goal of 100+ mph. Our team will be using a ZF75-7 motor, which has a peak torque of 110 Nm and approximately 60 horsepower.
                This means that a 5.2 : 1 gear ratio is needed
            </p> 
        </div>
    </div>

    <div class="project-block stacked-images">
        <div class="image-column">
            <img src="initial design.png" alt="Side View">
            <img src="initial design2.png" alt="Side View 2">
        </div>
        <div class="project-text">
            <h3 class="block-title">Drivetrain Design and Integration</h3>
            <p>
                Given the required 5.2 : 1 reduction, using a single stage drivetrain isn't feasible due how excessively large the rear sprocket would need to be.
                Therefore, we decided on a two-stage system with an 18:10 ratio between the motor and jackshaft and a 43:15 ratio between the jackshaft and wheel. 
                This ultimately left us with a 5.16 : 1 reduction, very close to ideal.
            </p>
            <p>
                The primary design challenge was the lack of packaging space. We needed to avoid interference with the battery and suspension while maintaining structural integrity and optimal anti-squat geometry (more on this in the next section).
            </p>
            <p>
                The final configuration I came up with mounts the motor as low as possible, just slightly above the bottom fairing of the stock ZX-6R. This leaves more room for the battery and BMS and makes it easier to direct airflow to the motor for cooling purposes later on. 
                The jackshaft location is parameterized relative to the suspension pivot for easy anti-squat tuning. The material I selected for the motor mounts was 1/4" sheet metal due to its low cost and ease of manufacturing. With free access to our school's waterjet cutter, I'm able to quickly design different prototypes at a low cost.
            </p>
        </div>
    </div>

    <div class="project-block stacked-images alt-background">
         <div class="image-column">
            <img src="antisquat.png" alt="Anti-Squat">
            <img src="antisquat-py.png" alt="Anti-squat calculations">
        </div>
        
        <div class="project-text">
            <h3 class="block-title">Calculating and Optimizing Anti-Squat</h3>
            <p>
               Anti-squat is a suspension characteristic that determines how much the rear suspension compresses (or "squats") under acceleration. Anti-squat is typically expressed as a percentage where 100% means that the suspension stays perfectly still under acceleration.
                Anti-squat percentages <100% (sometimes known as pro-squat) mean that the suspension will compress during acceleration. The physics behind how this works can be a difficult concept to wrap your head around, but tuning anti-squat properly is imperative for performance.
                Too much anti-squat and the bike can spin out and lose traction. Too little anti-squat and you lose power and the ability to corner efficiently.
            </p>
            <p>
               Since the bike is currently in its early stages, it's hard to determine what the "neutral" position of the suspension will be with the rider on the bike.
                For now, a rough estimate will be used, and the jackshaft position can be adjusted later during testing to get us closer to our ideal value (stay tuned for that). Being able to easily prototype and change the motor mount geometry is one of the key reasons I chose to use sheet metal.
            </p>
            <p>
                However, one of the factors that we can calculate right now is what our ideal anti-squat percentage will be. While I can't disclose the exact number, I was able to build a simple calculator in Python that would help us determine where we would need to place our jackshaft.
            </p>
        </div>
    </div>

        <div class="project-block stacked-images">
        <div class="image-column">
            <img src="max_stress_2.png" alt="Von Mieses Stress">
            <img src="total_deformation.png" alt="Total Deformation">
            <img src="two-mounts.png" alt="Mount Comparison">
        </div>
        <div class="project-text">
            <h3 class="block-title">Motor Mount FEA</h3>
            <p>
                I wanted to quickly make sure that the motor mounting pieces could safely handle the forces during drive, so I ran an FEA simulation in ANSYS Mechanical. Based on the results, the maximum equivalent (Von Mises) stress that the motor mount undergoes is 2.7569 Ã— 10<sup>7</sup> Pa or 27.57 MPa. The yield stress of A36 Steel 
                (the type of steel in our sheet metal plates) is around 250 MPa, giving us a safety factor of around 9. From the total deformation results, the maximum deformation is 0.004 mm, meaning the mount behaves as essentially rigid under load. This means that I can remove material while staying well within the desired safety factor of 3.
            </p>
            <p>
                I decided to remove material around low stress around and add material in higher stress areas. After a couple of iterations, I achieved a design I liked. It has a 26% weight reduction from the original while staying well within our desired safety factors. While I'm sure further weight reductions are possible, the marginal benefit didn't seem worth the additional effort, which could be better directed elsewhere.
            </p>
        </div>
    </div>
    <p style="text-align: center; font-size: 1.3em; margin-bottom: 60px; font-weight: bold; color: #eee;">
    Stay tuned for building, testing, and a CFD project coming soon!
    </p>
    
</body>
</html>
